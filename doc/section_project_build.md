# Сборка проекта
Сборка проекта производится с помощью утилиты *scons*.
BSP (Board Support Package), заданный по умолчанию — e500mc. При необходимости сборки системы под другой BSP используйте ключ командной строки *bsp*:

    scons bsp=<bsp>

Например:

    scons bsp=p3041

Список доступных BSP можно увидеть, выполнив команду `scons -h`.
В настоящее время поддерживаются следующие BSP:

 - e500mc — PowerPC, для запуска в QEMU (в виртуальной машине используйте именно этот BSP);
 - e500_highmem — PowerPC, для запуска в QEMU, начиная с версии 2.3;
 - p3041 — PowerPC, для запуска на физическом устройстве.

## Сборка отдельного раздела
Для сборки отдельного раздела необходимо перейти в его директорию (P1/ или P2/ в нашем примере) и выполнить команду `scons`.
В результате будут собраны библиотека *libpok.a* и сам раздел *part.elf*.
Выходные файлы раздела будут помещены в директорию *build/&lt;bsp>/* (относительно директории раздела), а файлы библиотеки — в *chpok/build/&lt;bsp>/*.

## Сборка всей системы
Для сборки системы целиком перейдите в директорию приложения (chpok/examples/pure-arinc653-buffer-2-partitions/ в нашем примере) и выполните команду `scons`.
В данном случае будут собраны ядро ОС, библиотека libpok.a, все разделы приложения, а также загрузочный образ системы *pok.elf*.
Ядро и *libpok.a* будут помещены в директорию *chpok/build/&lt;bsp>/*, файлы разделов — в *&lt;имя_раздела>/build/&lt;bsp>/*, а образ — в *build/&lt;bsp>/* (относительно директории приложения).
Если какой-либо раздел уже собран, при сборке всей системы будет достаточно его ELF-файла и XML-конфигурации.
Таким образом предоставляется возможность сборки приложения из готовых разделов при отсутствии их исходного кода.
